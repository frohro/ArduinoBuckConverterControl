Version 4
SHEET 1 1192 680
WIRE 240 -128 128 -128
WIRE 304 -128 240 -128
WIRE 560 -128 400 -128
WIRE 624 -128 560 -128
WIRE 768 -128 704 -128
WIRE 864 -128 848 -128
WIRE 992 -128 944 -128
WIRE 1136 -128 992 -128
WIRE 128 -96 128 -128
WIRE 240 -96 240 -128
WIRE 560 -96 560 -128
WIRE 992 -48 992 -64
WIRE 320 -16 320 -80
WIRE 320 -16 240 -16
WIRE 320 0 320 -16
WIRE 432 0 416 0
WIRE 512 32 512 0
WIRE 992 48 992 32
WIRE 368 112 368 64
WIRE 368 240 368 192
WIRE 368 336 368 320
FLAG 1136 -48 0
FLAG 992 48 0
FLAG 560 -32 0
FLAG 128 -16 0
FLAG 368 336 0
FLAG 512 32 0
SYMBOL pmos 400 -80 M270
WINDOW 0 64 80 VLeft 2
WINDOW 3 65 7 VLeft 2
SYMATTR InstName Q1
SYMATTR Value IRF9640
SYMBOL voltage 128 -112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 10V
SYMBOL schottky 576 -32 R180
WINDOW 0 24 64 Left 2
WINDOW 3 -94 16 Left 2
SYMATTR InstName D1
SYMATTR Value B540C
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL ind 752 -112 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 1mH
SYMATTR SpiceLine Rser=.1
SYMBOL cap 976 -128 R0
WINDOW 0 29 16 Left 2
WINDOW 3 26 48 Left 2
SYMATTR InstName C1
SYMATTR Value 100µF
SYMATTR SpiceLine Rser=.1
SYMBOL res 1120 -144 R0
SYMATTR InstName RL
SYMATTR Value 10
SYMBOL voltage 368 224 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 4.5 0 {T/100} {T/100} {.5*T} {T})
SYMBOL res 960 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1
SYMBOL npn 320 64 R270
WINDOW 0 60 27 VRight 2
WINDOW 3 92 21 VRight 2
SYMATTR InstName Q2
SYMATTR Value 2N2222
SYMBOL res 224 -112 R0
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL res 352 96 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL voltage 416 0 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 VBottom 2
SYMATTR InstName V3
SYMATTR Value 3.3V
SYMBOL res 720 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rinductor
SYMATTR Value 0.33
SYMBOL res 976 -64 R0
SYMATTR InstName R3
SYMATTR Value 8m
TEXT -48 288 Left 2 !.param T={1/30000}
TEXT 56 -208 Left 2 !.tran {400*T}
TEXT -88 64 Left 2 ;R2 needs to be at least one watt.
TEXT -88 104 Left 2 ;D1 should be at least 1/2 watt.
TEXT -88 144 Left 2 ;R3 needs to be 1/4 watt at least.
TEXT -88 184 Left 2 ;Q1 must dissipate at least 500 mW.
